setenv() { export "$1=$2"; }
prepath() { export PATH=$1:$PATH; }
append() { export "$1=$$1:$2"; }
if_exists_exec() { command -v $1 >/dev/null 2>&1 && shift && eval $@; }
if_exists_eval() { command -v $1 >/dev/null 2>&1 && shift && eval "$($@)"; }
if_exists_source() { [ -s $1 ] && source $1; }
if_exists_sh() { if_exists_source $1; }

if_exists_source $HOME/.common
if_exists_source $HOME/.platform
if_exists_source $HOME/.bash_prompt

vf()
{
  FILENAME="$(git ls-files | fzf --preview "{ highlight -l -O ansi {} 2>/dev/null || \
      pygmentize -g {} 2>/dev/null || cat {} 2>/dev/null || ls -aF {}; } | \
      head -$LINES" --color light --margin 2,10)"
  [[ ! -z $FILENAME ]] && $EDITOR "$FILENAME"
}

# vim: filetype=sh
